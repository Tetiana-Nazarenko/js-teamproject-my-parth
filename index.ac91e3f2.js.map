{"mappings":"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","sources":["src/js/video-recipe.js","src/js/scroll-categories.js","src/js/scroll-to-start.js","src/index.js"],"sourcesContent":["export let refs = {\n  addToFavoriteBtn: document.querySelector('.btn-add'),\n  removeFromFavoriteBtn: document.querySelector('.btn-outline-remove'),\n  recieptsTitle: document.querySelector('.reciepts-title'),\n  backdropRecipe: document.querySelector('.backdrop-video-recipes'),\n  modalRecipe: document.querySelector('.modal-video-recipe'),\n  closeBtn: document.querySelector('.modal-video-recipes-close-button'),\n  tagsRecipe: document.querySelector('.tags-recipe'),\n  ratingRecipe: document.querySelector('.rating-recipe'),\n  minutesRecipe: document.querySelector('.minutes-recipe'),\n  ingredientsRecipe: document.querySelector('.ingredients-recipe'),\n  instructionsRecipe: document.querySelector('.instructions-recipe'),\n  videoRecipe: document.querySelector('.video-recipe'),\n};\n\nrefs.closeBtn.addEventListener('click', closeModalClose);\nrefs.backdropRecipe.addEventListener('click', clickBackdropClick);\n\nfunction openModalOpen() {\n  setTimeout(() => {\n    window.addEventListener('keydown', onEscPress);\n    document.body.classList.add('overflowHidden');\n    refs.backdropRecipe.classList.add('active');\n    refs.modalRecipe.classList.add('active');\n  }, 50);\n}\n\nfunction closeModalClose() {\n  window.removeEventListener('keydown', onEscPress);\n  document.body.classList.remove('overflowHidden');\n  refs.backdropRecipe.classList.remove('active');\n  refs.modalRecipe.classList.remove('active');\n}\n\nfunction onEscPress(key) {\n  if (key.code === 'Escape') {\n    closeModalClose();\n  }\n}\nfunction clickBackdropClick(element) {\n  if (element.currentTarget === element.target) closeModalClose();\n}\n\nexport function showModalAboutReciepts(id) {\n  recieptsOfFood(id).then(data => {\n    //   isFavorite(data._id);\n    renderRanting(data);\n    markUpRating();\n    renderIngridient(data);\n    renderHashtags(data);\n    renderText(data);\n    openModalOpen();\n    renderVIDEO(data);\n    recipeId = data._id;\n  });\n}\n\nasync function recieptsOfFood(id) {\n  const resp = await fetch(\n    `https://tasty-treats-backend.p.goit.global/api/recipes/${id}`\n  );\n  const data = await resp.json();\n  return data;\n}\n\nfunction renderText(data) {\n  refs.recieptsTitle.textContent = data.title;\n  refs.videoRecipe.src = data.preview;\n  refs.instructionsRecipe.textContent = data.instructions;\n  refs.minutesRecipe.textContent = data.time + ' min';\n}\n\nlet ratings;\nlet ratingActive, ratingValue;\n\nfunction initRating(rating) {\n  initValues(rating);\n  if (ratingValue.innerHTML > 5) {\n    ratingValue.innerHTML = 5;\n  }\n  const ratingActiveWidth = ratingValue.innerHTML / 0.05;\n\n  ratingActive.style.width = `${ratingActiveWidth}%`;\n}\n\nfunction initValues(rating) {\n  ratingActive = rating.querySelector('.rating__active');\n  ratingValue = rating.querySelector('.rating__value');\n}\n\nexport function markUpRating() {\n  ratings = document.querySelectorAll('.rating');\n  ratings.forEach(item => {\n    const rating = item;\n    initRating(rating);\n  });\n}\n\nfunction getKeyYouTybe(url) {\n  let indexLast = url.split('').length;\n  let key = url.split('').splice(32, indexLast).join('');\n  return key;\n}\nfunction renderVIDEO(data) {\n  const markUp = `\n   <iframe\n                width=\"467px\"\n                height=\"250px\"\n                src=\"https://www.youtube.com/embed/${getKeyYouTybe(\n                  data.youtube\n                )}\"\ntitle = \"YouTube video player\"\nframeborder = \"0\"\nallow = \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\nallowfullscreen\n  ></iframe >\n`;\n  refs.videoRecipe.innerHTML = markUp;\n}\n\nfunction renderRanting(data) {\n  let markupR = `\n    <div class=\"cards__rating rating\">\n    <div class=\"rating__value detail\">${data.rating}</div>\n    <div class=\"rating__body\">\n      <div class=\"rating__active\"></div>\n      <div class=\"rating__items\">\n        <input\n          type=\"radio\"\n          class=\"rating__item\"\n          name=\"rating\"\n          value=\"1\"\n        />\n        <input\n          type=\"radio\"\n          class=\"rating__item\"\n          name=\"rating\"\n          value=\"2\"\n        />\n        <input\n          type=\"radio\"\n          class=\"rating__item\"\n          name=\"rating\"\n          value=\"3\"\n        />\n        <input\n          type=\"radio\"\n          class=\"rating__item\"\n          name=\"rating\"\n          value=\"4\"\n        />\n        <input\n          type=\"radio\"\n          class=\"rating__item\"\n          name=\"rating\"\n          value=\"5\"\n        />\n      </div>\n    </div>\n  </div>`;\n  refs.ratingRecipe.innerHTML = markupR; // Change refs.ratingBox to refs.ratingRecipe\n}\n\nfunction renderIngridient(data) {\n  const markup = data.ingredients\n    .map(\n      ({ measure, name }) => `\n        <li class=\"recipes-subtitle\">\n          ${name}\n          <p class=\"recipes-inf\">${measure}</p>\n        </li>\n      `\n    )\n    .join('');\n  refs.ingredientsRecipe.innerHTML = markup; // Change refs.IngredientBox to refs.ingredientsRecipe\n}\n\nfunction renderHashtags(data) {\n  if (data.tags.length === 0) {\n    return;\n  }\n  const markup = data.tags\n    .map(tag => ` <li class=\"hashtags\">#${tag}</li>`)\n    .join('');\n  refs.tagsRecipe.innerHTML = markup; // Change refs.hashtagsBox to refs.tagsRecipe\n}\n\n//showModalAboutReciepts('6462a8f74c3d0ddd28897fc8');\n//showModalAboutReciepts('6462a8f74c3d0ddd28898040');\n","const categoryList = document.querySelector('.category-list');\nconsole.log(categoryList);\n\nconst url = 'https://tasty-treats-backend.p.goit.global/api/categories';\n\nfunction fetchCategory() {\n  return fetch(`${url}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\nfetchCategory()\n  .then(data => {\n    categoryList.insertAdjacentHTML('beforeend', renderMarkUp);\n    console.log(data);\n  })\n  .catch(error => {\n    console.log(error);\n  });\n\nfunction renderMarkUp(category) {\n  return category\n    .map(({ name }) => {\n      return `<li>${name}</li>`;\n    })\n    .join('');\n}\n","const scrollButton = document.getElementById('scroll-up-button');\n\nfunction scrollToTop() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\nwindow.onscroll = function () {\n  if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {\n    scrollButton.style.display = 'block';\n  } else {\n    scrollButton.style.display = 'none';\n  }\n};\n\nscrollButton.addEventListener('click', scrollToTop);\n\n// goTopBtn.addEventListener('click', goTop);\n\n// function trackScroll() {\n//   const offSet = window.pageYOffset;\n//   const coords = document.documentElement.clientHeight;\n//   if (offSet > coords) {\n//     goTopBtn.classList.add('');\n//   }\n// }\n\n// function goTop() {\n//   if (window.pageYOffset > 0) {\n//     window.scrollBy(0, -75);\n//     setTimeout(goTop, 0);\n//   }\n// }\n","import './js/header.js';\nimport './js/hero.js';\nimport './js/hero-switch.js';\nimport './js/filter.js';\nimport './js/all-foods.js';\nimport './js/hero.js';\nimport './js/popular-recipes.js';\nimport './js/video-recipe.js';\nimport './js/scroll-categories.js';\nimport './js/scroll-to-start.js';\n\nimport { showModalAboutReciepts } from './js/video-recipe.js';\n\nconst url = 'https://tasty-treats-backend.p.goit.global/api/recipes/popular';\n\nconst url_recipe_info =\n  'https://tasty-treats-backend.p.goit.global/api/recipes/';\n\nconst pop_recipe_info = document.querySelector('.popular-recipes');\n\nfunction fetchPopularRecipes() {\n  return fetch(`${url}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfetchPopularRecipes()\n  .then(data => {\n    console.log(data);\n    //pop_recipe_info.insertAdjacentHTML('beforeend', renderPopularRecipes(data));\n    pop_recipe_info.innerHTML = renderPopularRecipes(data);\n  })\n  .catch(error => {\n    console.log(error);\n  });\n\nfunction renderPopularRecipes(recipes) {\n  return recipes\n    .map(({ _id, preview, title, description }) => {\n      return `<li class=\"pop-recipe-link\" id=\"${_id}\" > \n      <div class=\"pop-recipe-card\"> \n    <img class=\"img-pop-recipe\" src=\"${preview}\" width=\"64\" height=\"64\" alt=\"\">\n    <div class=\"text-pop-recipe\">  \n    <h3 class=\"title-pop-recipe\">${title}</h3>\n    <p class=\"description-pop-recipe\">${description}</p>\n    </div>\n    </div>\n  </li>`;\n    })\n    .join('');\n}\n\n// БУЛО\n//const openResipesCards = document.querySelectorAll('.pop-recipe-link');\n// openResipesCards.forEach(card => {\n//   card.addEventListener('click', event => {\n//     showModalAboutReciepts(event.currentTarget._id);\n//   });\n// });\n\n//ЗАРАЗ працює\nconst openResipesCards = document.getElementById('popularRecipeList');\nopenResipesCards.addEventListener('click', event => {\n  const clickedEl = event.target.closest('.pop-recipe-link');\n  if (clickedEl) {\n    const recipeId = clickedEl.id;\n    showModalAboutReciepts(recipeId);\n  }\n});\n"],"names":["$6ec948751c28bbb6$var$ratings","$6ec948751c28bbb6$var$ratingActive","$6ec948751c28bbb6$var$ratingValue","$6ec948751c28bbb6$export$21666b427502ea6d","addToFavoriteBtn","document","querySelector","removeFromFavoriteBtn","recieptsTitle","backdropRecipe","modalRecipe","closeBtn","tagsRecipe","ratingRecipe","minutesRecipe","ingredientsRecipe","instructionsRecipe","videoRecipe","$6ec948751c28bbb6$var$closeModalClose","window","removeEventListener","$6ec948751c28bbb6$var$onEscPress","body","classList","remove","key","code","$6ec948751c28bbb6$export$d7719edc76f4ff12","id","async","resp","fetch","json","$6ec948751c28bbb6$var$recieptsOfFood","then","data","markupR","rating","innerHTML","$6ec948751c28bbb6$var$renderRanting","querySelectorAll","forEach","item","$6ec948751c28bbb6$var$initValues","ratingActiveWidth","style","width","$6ec948751c28bbb6$var$initRating","markup","ingredients","map","measure","name","join","$6ec948751c28bbb6$var$renderIngridient","tags","length","tag","$6ec948751c28bbb6$var$renderHashtags","textContent","title","src","preview","instructions","time","$6ec948751c28bbb6$var$renderText","setTimeout","addEventListener","add","markUp","url","indexLast","split","splice","$6ec948751c28bbb6$var$getKeyYouTybe","youtube","$6ec948751c28bbb6$var$renderVIDEO","recipeId","_id","element","currentTarget","target","$209fb73b3eae90db$var$categoryList","console","log","$209fb73b3eae90db$var$renderMarkUp","category","response","ok","Error","status","insertAdjacentHTML","catch","error","$7df7898ed06180cd$var$scrollButton","getElementById","onscroll","scrollTop","documentElement","display","scrollTo","top","behavior","$1f0dc3b9307be026$var$pop_recipe_info","description","event","clickedEl","closest"],"version":3,"file":"index.ac91e3f2.js.map"}